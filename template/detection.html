<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VANKER JAYA</title>
    <link rel="stylesheet" href="../src/style.css" />
  </head>
  <body>
    <header>
      <div class="logo">
        <svg
          width="40"
          height="40"
          viewBox="0 0 40 40"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M35 20C35 28.2843 28.2843 35 20 35C11.7157 35 5 28.2843 5 20C5 11.7157 11.7157 5 20 5C28.2843 5 35 11.7157 35 20Z"
            stroke="white"
            stroke-width="2"
          />
          <path
            d="M25 15C26.6569 15 28 13.6569 28 12C28 10.3431 26.6569 9 25 9C23.3431 9 22 10.3431 22 12C22 13.6569 23.3431 15 25 15Z"
            fill="white"
          />
          <path
            d="M30 25C32.7614 25 35 22.7614 35 20C35 17.2386 32.7614 15 30 15C27.2386 15 25 17.2386 25 20C25 22.7614 27.2386 25 30 25Z"
            fill="white"
          />
          <path
            d="M15 25C16.6569 25 18 23.6569 18 22C18 20.3431 16.6569 19 15 19C13.3431 19 12 20.3431 12 22C12 23.6569 13.3431 25 15 25Z"
            fill="white"
          />
        </svg>
        <h1>VANKER FISH</h1>
      </div>
      <nav>
        <ul>
          <li><a href="../index.html">Home</a></li>
          <li>
            <a href="detection.html" class="active">Fish Detection</a>
          </li>
          <li>
            <a href="picture_detection.html">Picture Detection</a>
          </li>
        </ul>
      </nav>
    </header>

    <div class="container">
      <h2 class="page-title">Fish Detection</h2>
      <div class="detection-container">
        <div class="camera-container">
          <div class="camera-controls">
            <button
              id="stopCameraBtn"
              class="btn control-btn"
              style="display: none"
            >
              Stop Camera
            </button>
            <button id="startCameraBtn" class="btn control-btn">
              Start Camera
            </button>
            <button id="screenshotBtn" class="btn control-btn" disabled>
              Take Screenshot
            </button>
          </div>
          <div class="camera-view-container">
            <div id="cameraPlaceholder" class="camera-off-message">
              <div style="text-align: center; color: #6c757d">
                <svg
                  width="80"
                  height="80"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                >
                  <path
                    d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H18A1,1 0 0,1 19,15V18A1,1 0 0,1 18,19H15V22A1,1 0 0,1 14,23H10A1,1 0 0,1 9,22V19H6A1,1 0 0,1 5,18V15A1,1 0 0,1 6,14H9.29L9.56,13.73C8.59,12.59 8,11.11 8,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5A4.5,4.5 0 0,0 5,9.5A4.5,4.5 0 0,0 9.5,14A4.5,4.5 0 0,0 14,9.5A4.5,4.5 0 0,0 9.5,5Z"
                  />
                </svg>
                <h3>Camera Ready</h3>
                <p>Click "Start Camera" to begin fish detection</p>
                <div
                  id="loadingIndicator"
                  style="display: none; margin-top: 20px"
                >
                  <div class="spinner"></div>
                  <p style="margin-top: 10px">Loading camera and AI model...</p>
                </div>
              </div>
            </div>
            <video
              id="camera"
              autoplay
              playsinline
              style="display: none"
            ></video>
            <canvas id="overlayCanvas" style="display: none"></canvas>
          </div>
        </div>

        <div class="api-info">
          <h3>Roboflow API Integration</h3>
          <p>
            Web ini menggunakan API Roboflow untuk mendeteksi dan
            mengidentifikasi ikan secara otomatis.
          </p>
          <p>
            Gambar atau video yang diunggah akan diproses oleh model deteksi,
            lalu hasilnya ditampilkan langsung di web dalam bentuk data spesies
            dan jumlah ikan yang terdeteksi.
          </p>
        </div>
      </div>
    </div>

    <footer>
      <p>&copy; VANKER Fish Detection Model. All rights reserved.</p>
    </footer>

    <script type="module" src="../src/camera.js"></script>
  </body>
</html>
